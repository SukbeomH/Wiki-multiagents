# 🧠 Knowledge Graph Wiki System UI 가이드

PRD 요구사항에 맞게 제작된 지식 그래프 기반 위키 시스템의 사용법을 안내합니다.

## 🚀 빠른 시작

### 1. 시스템 실행

```bash
# 방법 1: 통합 스크립트로 실행 (권장)
python start_system.py

# 방법 2: Make 명령어로 실행
make start

# 방법 3: 개별 서비스 실행
# Terminal 1: FastAPI 서버
make start-api

# Terminal 2: Streamlit UI
make start-ui

# 방법 4: Docker Compose로 실행
docker-compose up

# 방법 5: Make 명령어로 Docker 실행
make docker-up
```

### 2. 브라우저 접속

- **URL**: http://localhost:8501
- **API 서버**: http://localhost:8000/api/v1

## 🎨 주요 기능

### 🔍 사이드바 검색

1. **키워드 입력**: 검색할 키워드를 입력하세요
   - 예: "인공지능", "머신러닝", "딥러닝"
   - 예: "OpenAI", "Google", "Microsoft"

2. **검색 시작**: "🔍 검색 시작" 버튼 클릭
   - 자동으로 지식 그래프 생성 워크플로우 시작
   - Research → Extractor → Retriever → Wiki → GraphViz 순서로 실행

3. **필터 설정**:
   - **엔티티 타입**: PERSON, ORGANIZATION, CONCEPT, LOCATION, EVENT
   - **신뢰도 임계값**: 0.0 ~ 1.0 (기본값: 0.7)

### 🧠 그래프 탭

1. **인터랙티브 그래프 시각화**:
   - **드래그**: 노드를 드래그하여 위치 조정
   - **줌**: 마우스 휠로 확대/축소
   - **호버**: 노드에 마우스를 올려 상세 정보 확인

2. **레이아웃 옵션**:
   - **Force Directed**: 기본 레이아웃 (노드 간 힘 기반 배치)
   - **Hierarchical**: 계층적 레이아웃
   - **Circular**: 원형 레이아웃

3. **그래프 통계**:
   - 노드 수, 엣지 수, 연결 요소, 평균 차수

### 📚 위키 탭

1. **자동 생성된 위키 문서**:
   - **제목**: 키워드 기반 자동 생성
   - **요약**: 핵심 내용 요약
   - **메인 콘텐츠**: Markdown 형식의 상세 내용
   - **참고 문헌**: 출처 및 링크

2. **메타데이터**:
   - 생성 시간, 작성자, 버전, 단어 수

### 🌙 다크 모드

- **토글**: 사이드바의 "🌙 다크 모드" 버튼으로 전환
- **자동 저장**: 사용자 선호도가 세션에 저장됨

### 👤 사용자 역할

#### User (읽기 전용)
- 그래프 및 위키 조회
- 검색 기능 사용
- 다크 모드 전환

#### Editor (편집 권한)
- User 권한 + 피드백 제출
- 콘텐츠 수정 제안
- 오류 신고

#### Admin (관리자)
- Editor 권한 + 모든 기능 사용
- 시스템 설정 변경
- 사용자 관리

## 🔧 고급 기능

### 📝 피드백 제출

1. **피드백 타입 선택**:
   - **correction**: 수정 사항
   - **addition**: 추가 정보
   - **deletion**: 삭제 요청
   - **suggestion**: 제안사항

2. **피드백 내용 작성**:
   - 구체적이고 명확한 내용
   - 수정이 필요한 부분 명시

3. **제출**: "제출" 버튼 클릭

### 📊 시스템 상태 모니터링

- **워크플로우 상태**: idle, running, completed, error
- **API 연결 상태**: 서버 연결 확인
- **사용자 정보**: 현재 역할 및 선택된 노드
- **최근 활동**: 검색 기록

## 🎯 사용 시나리오

### 시나리오 1: 새로운 주제 탐색
1. 키워드 입력 (예: "블록체인")
2. 검색 시작
3. 그래프 탭에서 관계 탐색
4. 위키 탭에서 상세 정보 확인

### 시나리오 2: 기존 지식 확장
1. 기존 노드 클릭
2. 관련 노드 탐색
3. 새로운 키워드로 검색
4. 그래프 확장 확인

### 시나리오 3: 콘텐츠 품질 개선
1. Editor/Admin 역할로 로그인
2. 부정확한 정보 발견
3. 피드백 제출
4. 개선 사항 추적

## 🔍 문제 해결

### 일반적인 문제

#### 1. UI가 로드되지 않음
```bash
# 포트 확인
lsof -i :8501

# 프로세스 재시작
pkill -f streamlit
python run_ui.py
```

#### 2. API 서버 연결 실패
```bash
# API 서버 상태 확인
curl http://localhost:8000/api/v1/health

# 서버 재시작
docker-compose restart fastapi
```

#### 3. 그래프가 표시되지 않음
- 키워드 검색이 완료되었는지 확인
- 브라우저 새로고침
- 다른 키워드로 재시도

#### 4. 다크 모드가 적용되지 않음
- 브라우저 캐시 삭제
- 페이지 새로고침
- 세션 재시작

### 성능 최적화

#### 1. 대용량 그래프 처리
- 노드 수 제한 조정 (기본값: 100)
- 신뢰도 임계값 상향 조정
- 불필요한 엔티티 타입 제외

#### 2. 검색 속도 향상
- 구체적인 키워드 사용
- 캐시 활용 (동일 키워드 재검색)
- 필터 설정 최적화

## 📱 반응형 디자인

### 데스크톱 (1200px+)
- 전체 기능 사용 가능
- 사이드바 + 메인 콘텐츠 레이아웃
- 그래프 인터랙션 최적화

### 태블릿 (768px-1199px)
- 사이드바 축소
- 탭 기반 네비게이션
- 터치 친화적 인터페이스

### 모바일 (767px 이하)
- 세로 레이아웃
- 터치 제스처 지원
- 핵심 기능 우선 표시

## 🔒 보안 및 권한

### 권한 체계
- **RBAC (Role-Based Access Control)** 기반
- 사용자 역할별 기능 제한
- API 엔드포인트 접근 제어

### 데이터 보호
- 개인정보 암호화
- 세션 기반 인증
- API 요청 제한

## 📞 지원

### 문제 신고
- Editor/Admin 역할로 피드백 제출
- 구체적인 오류 내용 포함
- 스크린샷 첨부 권장

### 기능 요청
- 새로운 기능 제안
- UI/UX 개선 아이디어
- 성능 최적화 제안

---

**🎉 즐거운 지식 그래프 탐험 되세요!** 